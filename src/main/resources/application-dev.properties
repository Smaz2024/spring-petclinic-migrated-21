# ===================================================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# Spring Petclinic – PostgreSQL + WildFly (Development)
# ===================================================================

# -------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL - Development)
# -------------------------------------------------------------------
jdbc.driverClassName=org.postgresql.Driver
jdbc.url=jdbc:postgresql://localhost:5432/petclinic
jdbc.username=petclinic
jdbc.password=petclinic


# -------------------------------------------------------------------
# JNDI CONFIGURATION (OPTIONAL – preferred in full WildFly setups)
# -------------------------------------------------------------------
# jdbc.jndi-name=java:jboss/datasources/PetclinicDevDS


# -------------------------------------------------------------------
# HIKARICP CONNECTION POOL (Development - Smaller pool)
# -------------------------------------------------------------------
hikari.maximum-pool-size=10
hikari.minimum-idle=2
hikari.idle-timeout=600000
hikari.connection-timeout=30000
hikari.max-lifetime=1800000
hikari.auto-commit=false
hikari.cache-prep-stmts=true
hikari.prep-stmt-cache-size=250
hikari.prep-stmt-cache-sql-limit=2048


# -------------------------------------------------------------------
# JPA / HIBERNATE CONFIGURATION (Development - More verbose)
# -------------------------------------------------------------------
jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
jpa.show-sql=true
jpa.format-sql=true
jpa.hibernate.ddl-auto=update


# -------------------------------------------------------------------
# HIBERNATE SECOND-LEVEL CACHE (ENABLED)
# -------------------------------------------------------------------
hibernate.cache.use_second_level_cache=true
hibernate.cache.use_query_cache=false
hibernate.cache.region.factory_class=org.hibernate.cache.jcache.JCacheRegionFactory
hibernate.cache.jcache.provider=com.github.benmanes.caffeine.jcache.spi.CaffeineCachingProvider
hibernate.cache.jcache.uri=classpath:caffeine-jcache.properties


# -------------------------------------------------------------------
# SPRING CACHE (Application-level caching)
# -------------------------------------------------------------------
spring.cache.type=jcache
spring.cache.cache-names=vets,specialties,petTypes


# -------------------------------------------------------------------
# CACHE CONFIGURATION (Caffeine - Shorter TTL for dev)
# -------------------------------------------------------------------
cache.names=vets,specialties,petTypes
cache.initial-capacity=50
cache.maximum-size=200
cache.expire-after-write-minutes=5


# -------------------------------------------------------------------
# VIEW RESOLVER & STATIC RESOURCE CONFIG
# -------------------------------------------------------------------
view.prefix=/WEB-INF/jsp/
view.suffix=.jsp
static.cache-period-seconds=0


# -------------------------------------------------------------------
# LOGGING (Development - More verbose)
# -------------------------------------------------------------------
logging.level.root=INFO
logging.level.org.springframework=DEBUG
logging.level.org.springframework.samples.petclinic=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.cache=DEBUG


# -------------------------------------------------------------------
# OBSERVABILITY (Development)
# -------------------------------------------------------------------
metrics.prometheus.enabled=true
otel.traces.sampler.type=traceidratio
otel.traces.sampler.arg=1.0
otel.exporter.otlp.endpoint=http://localhost:4317
otel.exporter.otlp.protocol=grpc


# -------------------------------------------------------------------
# CUSTOM BUSINESS SETTINGS
# -------------------------------------------------------------------
petclinic.owner.pagesize=5


# -------------------------------------------------------------------
# ENVIRONMENT IDENTIFIER
# -------------------------------------------------------------------
environment.name=DEVELOPMENT
environment.color=green
