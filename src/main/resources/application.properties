# ===================================================================
# BASE APPLICATION PROPERTIES
# Spring Petclinic â€“ Common Configuration Across All Environments
# ===================================================================
# 
# This file contains common configuration shared across all environments.
# Environment-specific settings are in:
#   - application-dev.properties  (Development)
#   - application-sit.properties  (System Integration Test)
#   - application-uat.properties  (User Acceptance Test)
#   - application-prod.properties (Production)
#
# To activate a profile, set: spring.profiles.active=dev|sit|uat|prod
# Or use environment variable: SPRING_PROFILES_ACTIVE=prod
# ===================================================================


# -------------------------------------------------------------------
# ACTIVE PROFILE (Default: dev)
# Override with: -Dspring.profiles.active=prod or ENV var
# -------------------------------------------------------------------
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}


# -------------------------------------------------------------------
# APPLICATION METADATA
# -------------------------------------------------------------------
spring.application.name=spring-petclinic
application.version=2.0.0-SNAPSHOT


# -------------------------------------------------------------------
# VIEW RESOLVER & STATIC RESOURCE CONFIG (Common)
# -------------------------------------------------------------------
view.prefix=/WEB-INF/jsp/
view.suffix=.jsp


# -------------------------------------------------------------------
# HIBERNATE SECOND-LEVEL CACHE (Common Configuration)
# -------------------------------------------------------------------
# Uses JCache (JSR-107) with Caffeine as the provider
hibernate.cache.region.factory_class=org.hibernate.cache.jcache.JCacheRegionFactory
hibernate.cache.jcache.provider=com.github.benmanes.caffeine.jcache.spi.CaffeineCachingProvider
hibernate.cache.jcache.uri=classpath:caffeine-jcache.properties


# -------------------------------------------------------------------
# SPRING CACHE (Application-level caching - Common)
# -------------------------------------------------------------------
# Used by @Cacheable annotations in services
spring.cache.type=jcache
spring.cache.cache-names=vets,specialties,petTypes
cache.names=vets,specialties,petTypes


# -------------------------------------------------------------------
# OBSERVABILITY (Common Configuration)
# -------------------------------------------------------------------
# Enable Prometheus metrics endpoint
metrics.prometheus.enabled=true

# OpenTelemetry Tracing Configuration
otel.traces.sampler.type=traceidratio
otel.exporter.otlp.protocol=grpc


# -------------------------------------------------------------------
# CUSTOM BUSINESS SETTINGS (Common)
# -------------------------------------------------------------------
petclinic.owner.pagesize=5


# ===================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# ===================================================================
# All environment-specific settings (database URLs, connection pools,
# logging levels, etc.) are defined in application-{profile}.properties
# ===================================================================
